<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Geo-Attendance System</title>
    <link rel="stylesheet" href="css/styles.css" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
            color: white;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            padding: 40px 20px;
            text-align: center;
        }

        h1 {
            font-size: 3em;
            color: #00c6ff;
            margin-bottom: 10px;
        }

        p {
            font-size: 1.2em;
            color: #ccc;
            max-width: 600px;
            margin: 0 auto;
        }

        .login-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 30px;
            font-size: 1em;
            color: white;
            background: linear-gradient(to right, #00c6ff, #0072ff);
            border: none;
            border-radius: 30px;
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 198, 255, 0.4);
        }

        @media screen and (max-width: 480px) {
            h1 {
                font-size: 2em;
            }

            p {
                font-size: 1em;
            }

            .login-btn {
                width: 80%;
            }
        }
    </style>

</head>

<body>
    <header>
        <h1>Welcome to Geo-Attendance</h1>
        <p>Mark attendance with location verification to prevent proxies and ensure fairness in large classrooms.</p>
        <a href="student_login.html" class="login-btn" style="margin-right: 20px;">
            <i class="fas fa-user-graduate" style="margin-right: 8px;"></i> Student Login
        </a>
        <a href="teacher_login.html" class="login-btn">
            <i class="fas fa-chalkboard-teacher" style="margin-right: 8px;"></i> Teacher Login
        </a>
    </header>

</body>

<footer>
    <div class="footer-text">Have feedback? Connect with us on Instagram</div>
    <div class="social-icons">
        <a href="https://www.instagram.com/itsmeshubh2026?igsh=MW51dXh1ZHc4bjY5Ng==" target="_blank">
            <i class="fab fa-instagram"></i>
        </a>
    </div>
</footer>

<script>
// Browser detection utility
function detectBrowser() {
  const userAgent = navigator.userAgent;
  
  // A more robust check for Chrome that excludes other Chromium browsers like Edge and Opera
  const isChrome = /Chrome/.test(userAgent) && !/Edg/.test(userAgent) && !/OPR/.test(userAgent);
  
  return {
    isChrome: isChrome,
    browserName: getBrowserName(userAgent)
  };
}

function getBrowserName(userAgent) {
  if (/Edg/.test(userAgent)) {
    return 'Edge';
  }
  if (/OPR/.test(userAgent) || /Opera/.test(userAgent)) {
    return 'Opera';
  }
  if (/Firefox/.test(userAgent)) {
    return 'Firefox';
  }
  if (/Chrome/.test(userAgent)) {
    return 'Chrome';
  }
  if (/Safari/.test(userAgent)) {
    return 'Safari';
  }
  return 'Unknown';
}

function showChromeOnlyMessage() {
  const browserInfo = detectBrowser();
  
  if (!browserInfo.isChrome) {
    // Create overlay
    const overlay = document.createElement('div');
    overlay.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    `;
    
    overlay.innerHTML = `
      <div style="
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        max-width: 500px;
        margin: 20px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        color: white;
      ">
        <div style="font-size: 48px; margin-bottom: 20px;">ðŸš«</div>
        <h2 style="margin-bottom: 20px; color: #fff;">Browser Not Supported</h2>
        <p style="margin-bottom: 20px; line-height: 1.6;">
          You are currently using <strong>${browserInfo.browserName}</strong>.
          <br><br>
          This application requires <strong>Google Chrome</strong> for optimal functionality and security.
        </p>
        <div style="
          background: rgba(255,255,255,0.1);
          padding: 20px;
          border-radius: 10px;
          margin: 20px 0;
          border-left: 4px solid #4CAF50;
        ">
          <h3 style="margin: 0 0 10px 0; color: #4CAF50;">Why Chrome Only?</h3>
          <ul style="text-align: left; margin: 0; padding-left: 20px;">
            <li>Better geolocation accuracy</li>
            <li>Enhanced security features</li>
            <li>Consistent performance</li>
            <li>Optimal compatibility</li>
          </ul>
        </div>
        <div style="margin-top: 30px;">
          <a href="https://www.google.com/chrome/" target="_blank" style="
            background: #4CAF50;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 25px;
            display: inline-block;
            margin: 0 10px;
            transition: all 0.3s ease;
          " onmouseover="this.style.background='#45a049'" onmouseout="this.style.background='#4CAF50'">
            Download Chrome
          </a>
          <button onclick="window.close()" style="
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
          " onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
            Close
          </button>
        </div>
      </div>
    `;
    
    document.body.appendChild(overlay);
    return false;
  }
  
  return true;
}

// Check browser on page load
document.addEventListener('DOMContentLoaded', function() {
  showChromeOnlyMessage();
});

// Override link clicks to check browser first
document.addEventListener('click', function(e) {
  if (e.target.tagName === 'A' && (e.target.href.includes('student_login.html') || e.target.href.includes('teacher_login.html'))) {
    e.preventDefault();
    if (showChromeOnlyMessage()) {
      window.location.href = e.target.href;
    }
  }
});
</script>

</html>